<!DOCTYPE html>  <html lang="en">    <head>    
  <meta charset="UTF-8" />    
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />    
  <title>Now Watching</title>    
  <style>    
    body, html {    
      margin: 0;    
      padding: 0;    
      height: 100%;    
      background: #000;    
      display: flex;    
      justify-content: center;    
      align-items: center;    
    }    
    iframe {    
      width: 100%;    
      height: 100%;    
      border: none;    
      /* Streamtape embed requires this for full-screen */  
      position: absolute;  
      top: 0;  
      left: 0;  
    }    
    h2 {  
        z-index: 10;  
    }  
  </style>    
</head>    
<body>    
  <script>    
    // Get Streamtape URL from query param    
    const params = new URLSearchParams(window.location.search);    
    let videoUrl = params.get("url");   // Safety check: only display if a video URL is present and it looks like a Streamtape embed  
if (videoUrl && (videoUrl.includes('streamtape.com/e/') || videoUrl.includes('stape.fun/e/'))) {    
  // Set iframe source using the videoUrl (which is now guaranteed to be an embed link from script.js)  
  document.body.innerHTML = `    
    <iframe src="${videoUrl}" allowfullscreen allow="autoplay; fullscreen; encrypted-media; picture-in-picture"></iframe>    
  `;    
} else {    
  // Fallback message  
  document.body.innerHTML = "<h2 style='color:white;'>⚠️ No video link found or link is invalid.</h2>";    
  console.error("Invalid URL passed to watch.html:", videoUrl);  
}

  </script>    
</body>    
</html>  
